<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h4>Promises in Javascript</h4>
    <p>Promises in Javascript are a powerful tool for handling asynchronous opertaion.
        A promise represents the eventual completion or failure of an asynchronous opertaion
        and its resulting value
    </p>
</body>
<script>
    const myPromise=new Promise((resolve,reject)=>{
        let success=true;
        if(success){
            resolve('Request is Fulfilled')
        }else{
            reject('Request is Rejected')
        }
    })
    myPromise
    .then(result=>console.log(result))
    .catch(error=>console.log(error))

//promise with resolve
    const promise=new Promise((resolve)=>{
        resolve('request fulflled')
    })
    promise
    .then(re=>console.log(re));

//promise with setTimeout
   const prosetTimeout=new Promise((res,rej)=>{
    setTimeout(()=>{
    let success=false;
    if(success){
        res('setTimeout resolved')
    }else{
        rej('setTimeout rejected')
    }
    },4000)
   })
   prosetTimeout
   .then(result=>console.log(result))
   .catch(error=>console.log(error))

//Types of promises:
//1.promise.all--->This returned promise fulfill when all of the input's promises fulfill,
//it rejects when any of the input's promises rejects,with this first rejection reason

const promise1=Promise.resolve(48);
const promise2=34;
const promise3=new Promise((resolve,reject)=>{
    setTimeout(()=>{
        resolve('promise3 resolved')
    },1000)
})
Promise.all([promise1,promise2,promise3])
.then(val=>console.log(val))

//2.promise.any---> This returns promise fulfill when any of the input's promise fulfills,
//with this first fulfillment value.It rejects when any of the input value rejected
const p1=Promise.reject(34)
const p2=new Promise((resl,reje)=>{
    setTimeout(()=>{
        resl('p2 resolved')
    },2000)
})
const p3=new Promise((res,rej)=>{
    setTimeout(()=>{
        res('P3 resolved')
    },1000)
})
Promise.any([p1,p2,p3])
.then(value=>console.log(value))

//3.Promise.race---->All the promises should get resolve and the one with shorter the settle first.
const pr1=new Promise((resolve,reject)=>{
    setTimeout(()=>{
        resolve('first promise')
    },3000)
})
const pr2=new Promise((reso,reje)=>{
    setTimeout(()=>{
        reso('Second promise')
    },1000)
})
Promise.race([pr1,pr2])
.then(val=>console.log(val))
</script>
</html>